#!/usr/bin/env node
import{createRequire as $}from"node:module";var Y=$(import.meta.url);import{argv as j,exit as L}from"node:process";function q(i,I){let o=i.slice(0,I).split(/\r\n|\n|\r/g);return[o.length,o.pop().length+1]}function Q(i,I,o){let R=i.split(/\r\n|\n|\r/g),O="",n=(Math.log10(I+1)|0)+1;for(let E=I-1;E<=I+1;E++){let T=R[E-1];if(!T)continue;if(O+=E.toString().padEnd(n," "),O+=":  ",O+=T,O+="\n",E===I)O+=" ".repeat(n+o+2),O+="^\n"}return O}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */class N extends Error{line;column;codeblock;constructor(i,I){const[o,R]=q(I.toml,I.ptr),O=Q(I.toml,o,R);super(`Invalid TOML document: ${i}\n\n${O}`,I);this.line=o,this.column=R,this.codeblock=O}}function x(i,I){let o=0;while(i[I-++o]==="\\");return--o&&o%2}function h(i,I=0,o=i.length){let R=i.indexOf("\n",I);if(i[R-1]==="\r")R--;return R<=o?R:-1}function D(i,I){for(let o=I;o<i.length;o++){let R=i[o];if(R==="\n")return o;if(R==="\r"&&i[o+1]==="\n")return o+1;if(R<" "&&R!=="\t"||R==="\x7F")throw new N("control characters are not allowed in comments",{toml:i,ptr:I})}return i.length}function f(i,I,o,R){let O;while((O=i[I])===" "||O==="\t"||!o&&(O==="\n"||O==="\r"&&i[I+1]==="\n"))I++;return R||O!=="#"?I:f(i,D(i,I),o)}function w(i,I,o,R,O=!1){if(!R)return I=h(i,I),I<0?i.length:I;for(let n=I;n<i.length;n++){let E=i[n];if(E==="#")n=h(i,n);else if(E===o)return n+1;else if(E===R||O&&(E==="\n"||E==="\r"&&i[n+1]==="\n"))return n}throw new N("cannot find end of structure",{toml:i,ptr:I})}function U(i,I){let o=i[I],R=o===i[I+1]&&i[I+1]===i[I+2]?i.slice(I,I+3):o;I+=R.length-1;do I=i.indexOf(R,++I);while(I>-1&&o!=="'"&&x(i,I));if(I>-1){if(I+=R.length,R.length>1){if(i[I]===o)I++;if(i[I]===o)I++}}return I}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *//*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */var z=/^(\d{4}-\d{2}-\d{2})?[T ]?(?:(\d{2}):\d{2}:\d{2}(?:\.\d+)?)?(Z|[-+]\d{2}:\d{2})?$/i;class u extends Date{#I=!1;#E=!1;#i=null;constructor(i){let I=!0,o=!0,R="Z";if(typeof i==="string"){let O=i.match(z);if(O){if(!O[1])I=!1,i=`0000-01-01T${i}`;if(o=!!O[2],o&&i[10]===" "&&(i=i.replace(" ","T")),O[2]&&+O[2]>23)i="";else if(R=O[3]||null,i=i.toUpperCase(),!R&&o)i+="Z"}else i=""}super(i);if(!isNaN(this.getTime()))this.#I=I,this.#E=o,this.#i=R}isDateTime(){return this.#I&&this.#E}isLocal(){return!this.#I||!this.#E||!this.#i}isDate(){return this.#I&&!this.#E}isTime(){return this.#E&&!this.#I}isValid(){return this.#I||this.#E}toISOString(){let i=super.toISOString();if(this.isDate())return i.slice(0,10);if(this.isTime())return i.slice(11,23);if(this.#i===null)return i.slice(0,-1);if(this.#i==="Z")return i;let I=+this.#i.slice(1,3)*60+ +this.#i.slice(4,6);return I=this.#i[0]==="-"?I:-I,new Date(this.getTime()-I*60000).toISOString().slice(0,-1)+this.#i}static wrapAsOffsetDateTime(i,I="Z"){let o=new u(i);return o.#i=I,o}static wrapAsLocalDateTime(i){let I=new u(i);return I.#i=null,I}static wrapAsLocalDate(i){let I=new u(i);return I.#E=!1,I.#i=null,I}static wrapAsLocalTime(i){let I=new u(i);return I.#I=!1,I.#i=null,I}}function H(i,I=0,o=i.length){let R=i[I]==="\'",O=i[I++]===i[I]&&i[I]===i[I+1];if(O){if(o-=2,i[I+=2]==="\r")I++;if(i[I]==="\n")I++}let n=0,E,T="",A=I;while(I<o-1){let S=i[I++];if(S==="\n"||S==="\r"&&i[I]==="\n"){if(!O)throw new N("newlines are not allowed in strings",{toml:i,ptr:I-1})}else if(S<" "&&S!=="\t"||S==="\x7F")throw new N("control characters are not allowed in strings",{toml:i,ptr:I-1});if(E){if(E=!1,S==="u"||S==="U"){let e=i.slice(I,I+=S==="u"?4:8);if(!Z.test(e))throw new N("invalid unicode escape",{toml:i,ptr:n});try{T+=String.fromCodePoint(parseInt(e,16))}catch{throw new N("invalid unicode escape",{toml:i,ptr:n})}}else if(O&&(S==="\n"||S===" "||S==="\t"||S==="\r")){if(I=f(i,I-1,!0),i[I]!=="\n"&&i[I]!=="\r")throw new N("invalid escape: only line-ending whitespace may be escaped",{toml:i,ptr:n});I=f(i,I)}else if(S in g)T+=g[S];else throw new N("unrecognized escape sequence",{toml:i,ptr:n});A=I}else if(!R&&S==="\\")n=I-1,E=!0,T+=i.slice(A,n)}return T+i.slice(A,o-1)}function G(i,I,o,R){if(i==="true")return!0;if(i==="false")return!1;if(i==="-inf")return-1/0;if(i==="inf"||i==="+inf")return 1/0;if(i==="nan"||i==="+nan"||i==="-nan")return NaN;if(i==="-0")return R?0n:0;let O=m.test(i);if(O||K.test(i)){if(J.test(i))throw new N("leading zeroes are not allowed",{toml:I,ptr:o});i=i.replace(/_/g,"");let E=+i;if(isNaN(E))throw new N("invalid number",{toml:I,ptr:o});if(O){if((O=!Number.isSafeInteger(E))&&!R)throw new N("integer value cannot be represented losslessly",{toml:I,ptr:o});if(O||R===!0)E=BigInt(i)}return E}const n=new u(i);if(!n.isValid())throw new N("invalid value",{toml:I,ptr:o});return n}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */var m=/^((0x[0-9a-fA-F](_?[0-9a-fA-F])*)|(([+-]|0[ob])?\d(_?\d)*))$/,K=/^[+-]?\d(_?\d)*(\.\d(_?\d)*)?([eE][+-]?\d(_?\d)*)?$/,J=/^[+-]?0[0-9_]/,Z=/^[0-9a-f]{4,8}$/i,g={b:"\b",t:"\t",n:"\n",f:"\f",r:"\r",'"':'"',"\\":"\\"};function _(i,I,o,R){let O=i.slice(I,o),n=O.indexOf("#");if(n>-1)D(i,n),O=O.slice(0,n);let E=O.trimEnd();if(!R){let T=O.indexOf("\n",E.length);if(T>-1)throw new N("newlines are not allowed in inline tables",{toml:i,ptr:I+T})}return[E,n]}function c(i,I,o,R,O){if(R===0)throw new N("document contains excessively nested structures. aborting.",{toml:i,ptr:I});let n=i[I];if(n==="["||n==="{"){let[A,S]=n==="["?W(i,I,R,O):M(i,I,R,O),e=o?w(i,S,",",o):S;if(S-e&&o==="}"){let C=h(i,S,e);if(C>-1)throw new N("newlines are not allowed in inline tables",{toml:i,ptr:C})}return[A,e]}let E;if(n==='"'||n==="'"){E=U(i,I);let A=H(i,I,E);if(o){if(E=f(i,E,o!=="]"),i[E]&&i[E]!==","&&i[E]!==o&&i[E]!=="\n"&&i[E]!=="\r")throw new N("unexpected character encountered",{toml:i,ptr:E});E+=+(i[E]===",")}return[A,E]}E=w(i,I,",",o);let T=_(i,I,E-+(i[E-1]===","),o==="]");if(!T[0])throw new N("incomplete key-value declaration: no value specified",{toml:i,ptr:I});if(o&&T[1]>-1)E=f(i,I+T[1]),E+=+(i[E]===",");return[G(T[0],i,I,O),E]}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function b(i,I,o="="){let R=I-1,O=[],n=i.indexOf(o,I);if(n<0)throw new N("incomplete key-value: cannot find end of key",{toml:i,ptr:I});do{let E=i[I=++R];if(E!==" "&&E!=="\t")if(E==='"'||E==="\'"){if(E===i[I+1]&&E===i[I+2])throw new N("multiline strings are not allowed in keys",{toml:i,ptr:I});let T=U(i,I);if(T<0)throw new N("unfinished string encountered",{toml:i,ptr:I});R=i.indexOf(".",T);let A=i.slice(T,R<0||R>n?n:R),S=h(A);if(S>-1)throw new N("newlines are not allowed in keys",{toml:i,ptr:I+R+S});if(A.trimStart())throw new N("found extra tokens after the string part",{toml:i,ptr:T});if(n<T){if(n=i.indexOf(o,T),n<0)throw new N("incomplete key-value: cannot find end of key",{toml:i,ptr:I})}O.push(H(i,I,T))}else{R=i.indexOf(".",I);let T=i.slice(I,R<0||R>n?n:R);if(!a.test(T))throw new N("only letter, numbers, dashes and underscores are allowed in keys",{toml:i,ptr:I});O.push(T.trimEnd())}}while(R+1&&R<n);return[O,f(i,n+1,!0,!0)]}function M(i,I,o,R){let O={},n=new Set,E,T=0;I++;while((E=i[I++])!=="}"&&E){let A={toml:i,ptr:I-1};if(E==="\n")throw new N("newlines are not allowed in inline tables",A);else if(E==="#")throw new N("inline tables cannot contain comments",A);else if(E===",")throw new N("expected key-value, found comma",A);else if(E!==" "&&E!=="\t"){let S,e=O,C=!1,[y,P]=b(i,I-1);for(let l=0;l<y.length;l++){if(l)e=C?e[S]:e[S]={};if(S=y[l],(C=Object.hasOwn(e,S))&&(typeof e[S]!=="object"||n.has(e[S])))throw new N("trying to redefine an already defined value",{toml:i,ptr:I});if(!C&&S==="__proto__")Object.defineProperty(e,S,{enumerable:!0,configurable:!0,writable:!0})}if(C)throw new N("trying to redefine an already defined value",{toml:i,ptr:I});let[B,X]=c(i,P,"}",o-1,R);n.add(B),e[S]=B,I=X,T=i[I-1]===","?I-1:0}}if(T)throw new N("trailing commas are not allowed in inline tables",{toml:i,ptr:T});if(!E)throw new N("unfinished table encountered",{toml:i,ptr:I});return[O,I]}function W(i,I,o,R){let O=[],n;I++;while((n=i[I++])!=="]"&&n)if(n===",")throw new N("expected value, found comma",{toml:i,ptr:I-1});else if(n==="#")I=D(i,I);else if(n!==" "&&n!=="\t"&&n!=="\n"&&n!=="\r"){let E=c(i,I-1,"]",o-1,R);O.push(E[0]),I=E[1]}if(!n)throw new N("unfinished array encountered",{toml:i,ptr:I});return[O,I]}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */var a=/^[a-zA-Z0-9-_]+[ \t]*$/;function d(i,I,o,R){let O=I,n=o,E,T=!1,A;for(let S=0;S<i.length;S++){if(S){if(O=T?O[E]:O[E]={},n=(A=n[E]).c,R===0&&(A.t===1||A.t===2))return null;if(A.t===2){let e=O.length-1;O=O[e],n=n[e].c}}if(E=i[S],(T=Object.hasOwn(O,E))&&n[E]?.t===0&&n[E]?.d)return null;if(!T){if(E==="__proto__")Object.defineProperty(O,E,{enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(n,E,{enumerable:!0,configurable:!0,writable:!0});n[E]={t:S<i.length-1&&R===2?3:R,d:!1,i:0,c:{}}}}if(A=n[E],A.t!==R&&!(R===1&&A.t===3))return null;if(R===2){if(!A.d)A.d=!0,O[E]=[];O[E].push(O={}),A.c[A.i++]=A={t:1,d:!1,i:0,c:{}}}if(A.d)return null;if(A.d=!0,R===1)O=T?O[E]:O[E]={};else if(R===0&&T)return null;return[E,O,A.c]}function F(i,{maxDepth:I=1000,integersAsBigInt:o}={}){let R={},O={},n=R,E=O;for(let T=f(i,0);T<i.length;){if(i[T]==="["){let A=i[++T]==="[",S=b(i,T+=+A,"]");if(A){if(i[S[1]-1]!=="]")throw new N("expected end of table declaration",{toml:i,ptr:S[1]-1});S[1]++}let e=d(S[0],R,O,A?2:1);if(!e)throw new N("trying to redefine an already defined table or value",{toml:i,ptr:T});E=e[2],n=e[1],T=S[1]}else{let A=b(i,T),S=d(A[0],n,E,0);if(!S)throw new N("trying to redefine an already defined table or value",{toml:i,ptr:T});let e=c(i,A[1],void 0,I,o);S[1][S[0]]=e[0],T=e[1]}if(T=f(i,T,!0),i[T]&&i[T]!=="\n"&&i[T]!=="\r")throw new N("each key-value declaration must be followed by an end-of-line",{toml:i,ptr:T});T=f(i,T)}return R}/*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *//*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *//*!
 * Copyright (c) Squirrel Chat et al., All rights reserved.
 * SPDX-License-Identifier: BSD-3-Clause
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of its contributors
 *    may be used to endorse or promote products derived from this software without
 *    specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */function V(){console.log("hacksmith - integration assistant CLI\n"),console.log("Usage:"),console.log("  hacksmith init <provider> <usecase> [options]"),console.log("  hacksmith plan <provider> <usecase> [options]"),console.log("  hacksmith parse-toml <file> [options]"),console.log("  hacksmith --help\n")}async function k(){const i=j.slice(2),[I,o,...R]=i;if(!I||I==="--help"||I==="-h")V(),L(0);if(I==="init")console.log("init: placeholder - implement interactive onboarding"),L(0);if(I==="plan")console.log("plan: placeholder - emit structured plan JSON"),L(0);if(I==="parse-toml"){if(!o)console.error("Error: Please provide a TOML file path"),console.log("Usage: hacksmith parse-toml <file>"),L(1);try{const O=await import("node:fs/promises"),E=(await import("node:path")).resolve(o);await O.access(E);const T=await O.readFile(E,"utf-8"),A=F(T);if(R.includes("--json"))console.log(JSON.stringify(A,null,2));else console.log("\uD83D\uDCC4 TOML File:",E),console.log("\uD83D\uDD0D Parsed Content:"),console.dir(A,{depth:null,colors:!0});L(0)}catch(O){if(O.code==="ENOENT")console.error(`Error: File not found: ${o}`);else if(O.name==="SyntaxError")console.error(`Error: Invalid TOML syntax in ${o}`),console.error(O.message);else console.error(`Error: Failed to parse TOML file: ${O.message}`);L(1)}}if(I==="debug"){console.log("Toml Test starting");const O="./src/playground/example.blueprint.toml",E=await(await import("node:fs/promises")).readFile(O,"utf-8"),T=F(E);console.log(T),L(0)}console.log(`Unknown command: ${I}`),V(),L(1)}k();

//# debugId=BC431E540206FE2964756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2NsaS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc21vbC10b21sQDEuNC4yL25vZGVfbW9kdWxlcy9zbW9sLXRvbWwvZGlzdC9lcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc21vbC10b21sQDEuNC4yL25vZGVfbW9kdWxlcy9zbW9sLXRvbWwvZGlzdC91dGlsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zbW9sLXRvbWxAMS40LjIvbm9kZV9tb2R1bGVzL3Ntb2wtdG9tbC9kaXN0L2RhdGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Ntb2wtdG9tbEAxLjQuMi9ub2RlX21vZHVsZXMvc21vbC10b21sL2Rpc3QvcHJpbWl0aXZlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zbW9sLXRvbWxAMS40LjIvbm9kZV9tb2R1bGVzL3Ntb2wtdG9tbC9kaXN0L2V4dHJhY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Ntb2wtdG9tbEAxLjQuMi9ub2RlX21vZHVsZXMvc21vbC10b21sL2Rpc3Qvc3RydWN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zbW9sLXRvbWxAMS40LjIvbm9kZV9tb2R1bGVzL3Ntb2wtdG9tbC9kaXN0L3BhcnNlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9zbW9sLXRvbWxAMS40LjIvbm9kZV9tb2R1bGVzL3Ntb2wtdG9tbC9kaXN0L3N0cmluZ2lmeS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vc21vbC10b21sQDEuNC4yL25vZGVfbW9kdWxlcy9zbW9sLXRvbWwvZGlzdC9pbmRleC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIjIS91c3IvYmluL2VudiBub2RlXG5cbmltcG9ydCB7IGFyZ3YsIGV4aXQgfSBmcm9tIFwibm9kZTpwcm9jZXNzXCI7XG5pbXBvcnQgeyBwYXJzZSwgc3RyaW5naWZ5IH0gZnJvbSBcInNtb2wtdG9tbFwiO1xuXG5mdW5jdGlvbiBwcmludEhlbHAoKTogdm9pZCB7XG4gIGNvbnNvbGUubG9nKFwiaGFja3NtaXRoIC0gaW50ZWdyYXRpb24gYXNzaXN0YW50IENMSVxcblwiKTtcbiAgY29uc29sZS5sb2coXCJVc2FnZTpcIik7XG4gIGNvbnNvbGUubG9nKFwiICBoYWNrc21pdGggaW5pdCA8cHJvdmlkZXI+IDx1c2VjYXNlPiBbb3B0aW9uc11cIik7XG4gIGNvbnNvbGUubG9nKFwiICBoYWNrc21pdGggcGxhbiA8cHJvdmlkZXI+IDx1c2VjYXNlPiBbb3B0aW9uc11cIik7XG4gIGNvbnNvbGUubG9nKFwiICBoYWNrc21pdGggcGFyc2UtdG9tbCA8ZmlsZT4gW29wdGlvbnNdXCIpO1xuICBjb25zb2xlLmxvZyhcIiAgaGFja3NtaXRoIC0taGVscFxcblwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFpbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXJncyA9IGFyZ3Yuc2xpY2UoMik7XG4gIGNvbnN0IFtjb21tYW5kLCBmaWxlUGF0aCwgLi4ub3B0aW9uc10gPSBhcmdzO1xuXG4gIGlmICghY29tbWFuZCB8fCBjb21tYW5kID09PSBcIi0taGVscFwiIHx8IGNvbW1hbmQgPT09IFwiLWhcIikge1xuICAgIHByaW50SGVscCgpO1xuICAgIGV4aXQoMCk7XG4gIH1cblxuICBpZiAoY29tbWFuZCA9PT0gXCJpbml0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcImluaXQ6IHBsYWNlaG9sZGVyIC0gaW1wbGVtZW50IGludGVyYWN0aXZlIG9uYm9hcmRpbmdcIik7XG4gICAgZXhpdCgwKTtcbiAgfVxuXG4gIGlmIChjb21tYW5kID09PSBcInBsYW5cIikge1xuICAgIGNvbnNvbGUubG9nKFwicGxhbjogcGxhY2Vob2xkZXIgLSBlbWl0IHN0cnVjdHVyZWQgcGxhbiBKU09OXCIpO1xuICAgIGV4aXQoMCk7XG4gIH1cblxuICBpZiAoY29tbWFuZCA9PT0gXCJwYXJzZS10b21sXCIpIHtcbiAgICBpZiAoIWZpbGVQYXRoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IFBsZWFzZSBwcm92aWRlIGEgVE9NTCBmaWxlIHBhdGhcIik7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzYWdlOiBoYWNrc21pdGggcGFyc2UtdG9tbCA8ZmlsZT5cIik7XG4gICAgICBleGl0KDEpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmcyA9IGF3YWl0IGltcG9ydChcIm5vZGU6ZnMvcHJvbWlzZXNcIik7XG4gICAgICBjb25zdCBwYXRoID0gYXdhaXQgaW1wb3J0KFwibm9kZTpwYXRoXCIpO1xuICAgICAgXG4gICAgICAvLyBSZXNvbHZlIHRoZSBmaWxlIHBhdGhcbiAgICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IHBhdGgucmVzb2x2ZShmaWxlUGF0aCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGZpbGUgZXhpc3RzXG4gICAgICBhd2FpdCBmcy5hY2Nlc3MocmVzb2x2ZWRQYXRoKTtcbiAgICAgIFxuICAgICAgLy8gUmVhZCBhbmQgcGFyc2UgdGhlIFRPTUwgZmlsZVxuICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShyZXNvbHZlZFBhdGgsIFwidXRmLThcIik7XG4gICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZShmaWxlQ29udGVudCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciAtLWpzb24gZmxhZyB0byBvdXRwdXQgSlNPTiBmb3JtYXRcbiAgICAgIGNvbnN0IHNob3VsZE91dHB1dEpzb24gPSBvcHRpb25zLmluY2x1ZGVzKFwiLS1qc29uXCIpO1xuICAgICAgXG4gICAgICBpZiAoc2hvdWxkT3V0cHV0SnNvbikge1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwYXJzZWQsIG51bGwsIDIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+ThCBUT01MIEZpbGU6XCIsIHJlc29sdmVkUGF0aCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBQYXJzZWQgQ29udGVudDpcIik7XG4gICAgICAgIGNvbnNvbGUuZGlyKHBhcnNlZCwgeyBkZXB0aDogbnVsbCwgY29sb3JzOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBleGl0KDApO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiBGaWxlIG5vdCBmb3VuZDogJHtmaWxlUGF0aH1gKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gXCJTeW50YXhFcnJvclwiKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiBJbnZhbGlkIFRPTUwgc3ludGF4IGluICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogRmFpbGVkIHRvIHBhcnNlIFRPTUwgZmlsZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgZXhpdCgxKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29tbWFuZCA9PT0gXCJkZWJ1Z1wiKSB7XG4gICAgY29uc29sZS5sb2coXCJUb21sIFRlc3Qgc3RhcnRpbmdcIik7XG4gICAgY29uc3QgYmx1ZXByaW50ID0gXCIuL3NyYy9wbGF5Z3JvdW5kL2V4YW1wbGUuYmx1ZXByaW50LnRvbWxcIjtcbiAgICBcbiAgICAvLyBSZWFkIHRoZSBmaWxlIGZpcnN0XG4gICAgY29uc3QgZnMgPSBhd2FpdCBpbXBvcnQoXCJub2RlOmZzL3Byb21pc2VzXCIpO1xuICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUoYmx1ZXByaW50LCBcInV0Zi04XCIpO1xuICAgIFxuICAgIC8vIFRoZW4gcGFyc2UgdGhlIGNvbnRlbnRcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZShmaWxlQ29udGVudCk7XG4gICAgY29uc29sZS5sb2cocGFyc2VkKTtcbiAgICBleGl0KDApO1xuICB9XG5cbiAgY29uc29sZS5sb2coYFVua25vd24gY29tbWFuZDogJHtjb21tYW5kfWApO1xuICBwcmludEhlbHAoKTtcbiAgZXhpdCgxKTtcbn1cblxubWFpbigpO1xuIiwKICAgICIvKiFcbiAqIENvcHlyaWdodCAoYykgU3F1aXJyZWwgQ2hhdCBldCBhbC4sIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICAgIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBjb3B5cmlnaHQgaG9sZGVyIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9yc1xuICogICAgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXRcbiAqICAgIHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAqIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG4gKiBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFXG4gKiBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxuICogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1JcbiAqIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSXG4gKiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLFxuICogT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcbiAqIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cbmZ1bmN0aW9uIGdldExpbmVDb2xGcm9tUHRyKHN0cmluZywgcHRyKSB7XG4gICAgbGV0IGxpbmVzID0gc3RyaW5nLnNsaWNlKDAsIHB0cikuc3BsaXQoL1xcclxcbnxcXG58XFxyL2cpO1xuICAgIHJldHVybiBbbGluZXMubGVuZ3RoLCBsaW5lcy5wb3AoKS5sZW5ndGggKyAxXTtcbn1cbmZ1bmN0aW9uIG1ha2VDb2RlQmxvY2soc3RyaW5nLCBsaW5lLCBjb2x1bW4pIHtcbiAgICBsZXQgbGluZXMgPSBzdHJpbmcuc3BsaXQoL1xcclxcbnxcXG58XFxyL2cpO1xuICAgIGxldCBjb2RlYmxvY2sgPSAnJztcbiAgICBsZXQgbnVtYmVyTGVuID0gKE1hdGgubG9nMTAobGluZSArIDEpIHwgMCkgKyAxO1xuICAgIGZvciAobGV0IGkgPSBsaW5lIC0gMTsgaSA8PSBsaW5lICsgMTsgaSsrKSB7XG4gICAgICAgIGxldCBsID0gbGluZXNbaSAtIDFdO1xuICAgICAgICBpZiAoIWwpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29kZWJsb2NrICs9IGkudG9TdHJpbmcoKS5wYWRFbmQobnVtYmVyTGVuLCAnICcpO1xuICAgICAgICBjb2RlYmxvY2sgKz0gJzogICc7XG4gICAgICAgIGNvZGVibG9jayArPSBsO1xuICAgICAgICBjb2RlYmxvY2sgKz0gJ1xcbic7XG4gICAgICAgIGlmIChpID09PSBsaW5lKSB7XG4gICAgICAgICAgICBjb2RlYmxvY2sgKz0gJyAnLnJlcGVhdChudW1iZXJMZW4gKyBjb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGNvZGVibG9jayArPSAnXlxcbic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvZGVibG9jaztcbn1cbmV4cG9ydCBjbGFzcyBUb21sRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgbGluZTtcbiAgICBjb2x1bW47XG4gICAgY29kZWJsb2NrO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgW2xpbmUsIGNvbHVtbl0gPSBnZXRMaW5lQ29sRnJvbVB0cihvcHRpb25zLnRvbWwsIG9wdGlvbnMucHRyKTtcbiAgICAgICAgY29uc3QgY29kZWJsb2NrID0gbWFrZUNvZGVCbG9jayhvcHRpb25zLnRvbWwsIGxpbmUsIGNvbHVtbik7XG4gICAgICAgIHN1cGVyKGBJbnZhbGlkIFRPTUwgZG9jdW1lbnQ6ICR7bWVzc2FnZX1cXG5cXG4ke2NvZGVibG9ja31gLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIHRoaXMuY29kZWJsb2NrID0gY29kZWJsb2NrO1xuICAgIH1cbn1cbiIsCiAgICAiLyohXG4gKiBDb3B5cmlnaHQgKGMpIFNxdWlycmVsIENoYXQgZXQgYWwuLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgY29weXJpZ2h0IGhvbGRlciBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnNcbiAqICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0XG4gKiAgICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRVxuICogRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcbiAqIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SXG4gKiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUlxuICogQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSxcbiAqIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5pbXBvcnQgeyBUb21sRXJyb3IgfSBmcm9tICcuL2Vycm9yLmpzJztcbmZ1bmN0aW9uIGlzRXNjYXBlZChzdHIsIHB0cikge1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoc3RyW3B0ciAtICsraV0gPT09ICdcXFxcJylcbiAgICAgICAgO1xuICAgIHJldHVybiAtLWkgJiYgKGkgJSAyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mTmV3bGluZShzdHIsIHN0YXJ0ID0gMCwgZW5kID0gc3RyLmxlbmd0aCkge1xuICAgIGxldCBpZHggPSBzdHIuaW5kZXhPZignXFxuJywgc3RhcnQpO1xuICAgIGlmIChzdHJbaWR4IC0gMV0gPT09ICdcXHInKVxuICAgICAgICBpZHgtLTtcbiAgICByZXR1cm4gaWR4IDw9IGVuZCA/IGlkeCA6IC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNraXBDb21tZW50KHN0ciwgcHRyKSB7XG4gICAgZm9yIChsZXQgaSA9IHB0cjsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYyA9IHN0cltpXTtcbiAgICAgICAgaWYgKGMgPT09ICdcXG4nKVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIGlmIChjID09PSAnXFxyJyAmJiBzdHJbaSArIDFdID09PSAnXFxuJylcbiAgICAgICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgICAgaWYgKChjIDwgJ1xceDIwJyAmJiBjICE9PSAnXFx0JykgfHwgYyA9PT0gJ1xceDdmJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignY29udHJvbCBjaGFyYWN0ZXJzIGFyZSBub3QgYWxsb3dlZCBpbiBjb21tZW50cycsIHtcbiAgICAgICAgICAgICAgICB0b21sOiBzdHIsXG4gICAgICAgICAgICAgICAgcHRyOiBwdHIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyLmxlbmd0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBza2lwVm9pZChzdHIsIHB0ciwgYmFuTmV3TGluZXMsIGJhbkNvbW1lbnRzKSB7XG4gICAgbGV0IGM7XG4gICAgd2hpbGUgKChjID0gc3RyW3B0cl0pID09PSAnICcgfHwgYyA9PT0gJ1xcdCcgfHwgKCFiYW5OZXdMaW5lcyAmJiAoYyA9PT0gJ1xcbicgfHwgYyA9PT0gJ1xccicgJiYgc3RyW3B0ciArIDFdID09PSAnXFxuJykpKVxuICAgICAgICBwdHIrKztcbiAgICByZXR1cm4gYmFuQ29tbWVudHMgfHwgYyAhPT0gJyMnXG4gICAgICAgID8gcHRyXG4gICAgICAgIDogc2tpcFZvaWQoc3RyLCBza2lwQ29tbWVudChzdHIsIHB0ciksIGJhbk5ld0xpbmVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBza2lwVW50aWwoc3RyLCBwdHIsIHNlcCwgZW5kLCBiYW5OZXdMaW5lcyA9IGZhbHNlKSB7XG4gICAgaWYgKCFlbmQpIHtcbiAgICAgICAgcHRyID0gaW5kZXhPZk5ld2xpbmUoc3RyLCBwdHIpO1xuICAgICAgICByZXR1cm4gcHRyIDwgMCA/IHN0ci5sZW5ndGggOiBwdHI7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBwdHI7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGMgPSBzdHJbaV07XG4gICAgICAgIGlmIChjID09PSAnIycpIHtcbiAgICAgICAgICAgIGkgPSBpbmRleE9mTmV3bGluZShzdHIsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IHNlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IGVuZCB8fCAoYmFuTmV3TGluZXMgJiYgKGMgPT09ICdcXG4nIHx8IChjID09PSAnXFxyJyAmJiBzdHJbaSArIDFdID09PSAnXFxuJykpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IFRvbWxFcnJvcignY2Fubm90IGZpbmQgZW5kIG9mIHN0cnVjdHVyZScsIHtcbiAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICBwdHI6IHB0clxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmluZ0VuZChzdHIsIHNlZWspIHtcbiAgICBsZXQgZmlyc3QgPSBzdHJbc2Vla107XG4gICAgbGV0IHRhcmdldCA9IGZpcnN0ID09PSBzdHJbc2VlayArIDFdICYmIHN0cltzZWVrICsgMV0gPT09IHN0cltzZWVrICsgMl1cbiAgICAgICAgPyBzdHIuc2xpY2Uoc2Vlaywgc2VlayArIDMpXG4gICAgICAgIDogZmlyc3Q7XG4gICAgc2VlayArPSB0YXJnZXQubGVuZ3RoIC0gMTtcbiAgICBkb1xuICAgICAgICBzZWVrID0gc3RyLmluZGV4T2YodGFyZ2V0LCArK3NlZWspO1xuICAgIHdoaWxlIChzZWVrID4gLTEgJiYgZmlyc3QgIT09IFwiJ1wiICYmIGlzRXNjYXBlZChzdHIsIHNlZWspKTtcbiAgICBpZiAoc2VlayA+IC0xKSB7XG4gICAgICAgIHNlZWsgKz0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRhcmdldC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAoc3RyW3NlZWtdID09PSBmaXJzdClcbiAgICAgICAgICAgICAgICBzZWVrKys7XG4gICAgICAgICAgICBpZiAoc3RyW3NlZWtdID09PSBmaXJzdClcbiAgICAgICAgICAgICAgICBzZWVrKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlZWs7XG59XG4iLAogICAgIi8qIVxuICogQ29weXJpZ2h0IChjKSBTcXVpcnJlbCBDaGF0IGV0IGFsLiwgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogICAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzXG4gKiAgICBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dFxuICogICAgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEVcbiAqIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXG4gKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUlxuICogU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVJcbiAqIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksXG4gKiBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuICogT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xubGV0IERBVEVfVElNRV9SRSA9IC9eKFxcZHs0fS1cXGR7Mn0tXFxkezJ9KT9bVCBdPyg/OihcXGR7Mn0pOlxcZHsyfTpcXGR7Mn0oPzpcXC5cXGQrKT8pPyhafFstK11cXGR7Mn06XFxkezJ9KT8kL2k7XG5leHBvcnQgY2xhc3MgVG9tbERhdGUgZXh0ZW5kcyBEYXRlIHtcbiAgICAjaGFzRGF0ZSA9IGZhbHNlO1xuICAgICNoYXNUaW1lID0gZmFsc2U7XG4gICAgI29mZnNldCA9IG51bGw7XG4gICAgY29uc3RydWN0b3IoZGF0ZSkge1xuICAgICAgICBsZXQgaGFzRGF0ZSA9IHRydWU7XG4gICAgICAgIGxldCBoYXNUaW1lID0gdHJ1ZTtcbiAgICAgICAgbGV0IG9mZnNldCA9ICdaJztcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGV0IG1hdGNoID0gZGF0ZS5tYXRjaChEQVRFX1RJTUVfUkUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNEYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBgMDAwMC0wMS0wMVQke2RhdGV9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFzVGltZSA9ICEhbWF0Y2hbMl07XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvIHVzZSBUIGluc3RlYWQgb2YgYSBzcGFjZS4gQnJlYWtzIGluIGNhc2Ugb2YgZXh0cmVtZSB2YWx1ZXMgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICAgIGhhc1RpbWUgJiYgZGF0ZVsxMF0gPT09ICcgJyAmJiAoZGF0ZSA9IGRhdGUucmVwbGFjZSgnICcsICdUJykpO1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBhbGxvdyByb2xsb3ZlciBob3Vycy5cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0gJiYgK21hdGNoWzJdID4gMjMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbWF0Y2hbM10gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGRhdGUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvZmZzZXQgJiYgaGFzVGltZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgKz0gJ1onO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlcihkYXRlKTtcbiAgICAgICAgaWYgKCFpc05hTih0aGlzLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuI2hhc0RhdGUgPSBoYXNEYXRlO1xuICAgICAgICAgICAgdGhpcy4jaGFzVGltZSA9IGhhc1RpbWU7XG4gICAgICAgICAgICB0aGlzLiNvZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNEYXRlVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hhc0RhdGUgJiYgdGhpcy4jaGFzVGltZTtcbiAgICB9XG4gICAgaXNMb2NhbCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLiNoYXNEYXRlIHx8ICF0aGlzLiNoYXNUaW1lIHx8ICF0aGlzLiNvZmZzZXQ7XG4gICAgfVxuICAgIGlzRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hhc0RhdGUgJiYgIXRoaXMuI2hhc1RpbWU7XG4gICAgfVxuICAgIGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hhc1RpbWUgJiYgIXRoaXMuI2hhc0RhdGU7XG4gICAgfVxuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNoYXNEYXRlIHx8IHRoaXMuI2hhc1RpbWU7XG4gICAgfVxuICAgIHRvSVNPU3RyaW5nKCkge1xuICAgICAgICBsZXQgaXNvID0gc3VwZXIudG9JU09TdHJpbmcoKTtcbiAgICAgICAgLy8gTG9jYWwgRGF0ZVxuICAgICAgICBpZiAodGhpcy5pc0RhdGUoKSlcbiAgICAgICAgICAgIHJldHVybiBpc28uc2xpY2UoMCwgMTApO1xuICAgICAgICAvLyBMb2NhbCBUaW1lXG4gICAgICAgIGlmICh0aGlzLmlzVGltZSgpKVxuICAgICAgICAgICAgcmV0dXJuIGlzby5zbGljZSgxMSwgMjMpO1xuICAgICAgICAvLyBMb2NhbCBEYXRlVGltZVxuICAgICAgICBpZiAodGhpcy4jb2Zmc2V0ID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGlzby5zbGljZSgwLCAtMSk7XG4gICAgICAgIC8vIE9mZnNldCBEYXRlVGltZVxuICAgICAgICBpZiAodGhpcy4jb2Zmc2V0ID09PSAnWicpXG4gICAgICAgICAgICByZXR1cm4gaXNvO1xuICAgICAgICAvLyBUaGlzIHBhcnQgaXMgcXVpdGUgYW5ub3lpbmc6IEpTIHN0cmlwcyB0aGUgb3JpZ2luYWwgdGltZXpvbmUgZnJvbSB0aGUgSVNPIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAvLyBJbnN0ZWFkIG9mIHVzaW5nIGEgXCJtb2RpZmllZFwiIGRhdGUgYW5kIFwiWlwiLCB3ZSByZXN0b3JlIHRoZSByZXByZXNlbnRhdGlvbiBcImFzIGF1dGhvcmVkXCJcbiAgICAgICAgbGV0IG9mZnNldCA9ICgrKHRoaXMuI29mZnNldC5zbGljZSgxLCAzKSkgKiA2MCkgKyArKHRoaXMuI29mZnNldC5zbGljZSg0LCA2KSk7XG4gICAgICAgIG9mZnNldCA9IHRoaXMuI29mZnNldFswXSA9PT0gJy0nID8gb2Zmc2V0IDogLW9mZnNldDtcbiAgICAgICAgbGV0IG9mZnNldERhdGUgPSBuZXcgRGF0ZSh0aGlzLmdldFRpbWUoKSAtIChvZmZzZXQgKiA2MGUzKSk7XG4gICAgICAgIHJldHVybiBvZmZzZXREYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgLTEpICsgdGhpcy4jb2Zmc2V0O1xuICAgIH1cbiAgICBzdGF0aWMgd3JhcEFzT2Zmc2V0RGF0ZVRpbWUoanNEYXRlLCBvZmZzZXQgPSAnWicpIHtcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgVG9tbERhdGUoanNEYXRlKTtcbiAgICAgICAgZGF0ZS4jb2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgc3RhdGljIHdyYXBBc0xvY2FsRGF0ZVRpbWUoanNEYXRlKSB7XG4gICAgICAgIGxldCBkYXRlID0gbmV3IFRvbWxEYXRlKGpzRGF0ZSk7XG4gICAgICAgIGRhdGUuI29mZnNldCA9IG51bGw7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBzdGF0aWMgd3JhcEFzTG9jYWxEYXRlKGpzRGF0ZSkge1xuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBUb21sRGF0ZShqc0RhdGUpO1xuICAgICAgICBkYXRlLiNoYXNUaW1lID0gZmFsc2U7XG4gICAgICAgIGRhdGUuI29mZnNldCA9IG51bGw7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBzdGF0aWMgd3JhcEFzTG9jYWxUaW1lKGpzRGF0ZSkge1xuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBUb21sRGF0ZShqc0RhdGUpO1xuICAgICAgICBkYXRlLiNoYXNEYXRlID0gZmFsc2U7XG4gICAgICAgIGRhdGUuI29mZnNldCA9IG51bGw7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbn1cbiIsCiAgICAiLyohXG4gKiBDb3B5cmlnaHQgKGMpIFNxdWlycmVsIENoYXQgZXQgYWwuLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgY29weXJpZ2h0IGhvbGRlciBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnNcbiAqICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0XG4gKiAgICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRVxuICogRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcbiAqIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SXG4gKiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUlxuICogQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSxcbiAqIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5pbXBvcnQgeyBza2lwVm9pZCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBUb21sRGF0ZSB9IGZyb20gJy4vZGF0ZS5qcyc7XG5pbXBvcnQgeyBUb21sRXJyb3IgfSBmcm9tICcuL2Vycm9yLmpzJztcbmxldCBJTlRfUkVHRVggPSAvXigoMHhbMC05YS1mQS1GXShfP1swLTlhLWZBLUZdKSopfCgoWystXXwwW29iXSk/XFxkKF8/XFxkKSopKSQvO1xubGV0IEZMT0FUX1JFR0VYID0gL15bKy1dP1xcZChfP1xcZCkqKFxcLlxcZChfP1xcZCkqKT8oW2VFXVsrLV0/XFxkKF8/XFxkKSopPyQvO1xubGV0IExFQURJTkdfWkVSTyA9IC9eWystXT8wWzAtOV9dLztcbmxldCBFU0NBUEVfUkVHRVggPSAvXlswLTlhLWZdezQsOH0kL2k7XG5sZXQgRVNDX01BUCA9IHtcbiAgICBiOiAnXFxiJyxcbiAgICB0OiAnXFx0JyxcbiAgICBuOiAnXFxuJyxcbiAgICBmOiAnXFxmJyxcbiAgICByOiAnXFxyJyxcbiAgICAnXCInOiAnXCInLFxuICAgICdcXFxcJzogJ1xcXFwnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0cmluZyhzdHIsIHB0ciA9IDAsIGVuZFB0ciA9IHN0ci5sZW5ndGgpIHtcbiAgICBsZXQgaXNMaXRlcmFsID0gc3RyW3B0cl0gPT09ICdcXCcnO1xuICAgIGxldCBpc011bHRpbGluZSA9IHN0cltwdHIrK10gPT09IHN0cltwdHJdICYmIHN0cltwdHJdID09PSBzdHJbcHRyICsgMV07XG4gICAgaWYgKGlzTXVsdGlsaW5lKSB7XG4gICAgICAgIGVuZFB0ciAtPSAyO1xuICAgICAgICBpZiAoc3RyW3B0ciArPSAyXSA9PT0gJ1xccicpXG4gICAgICAgICAgICBwdHIrKztcbiAgICAgICAgaWYgKHN0cltwdHJdID09PSAnXFxuJylcbiAgICAgICAgICAgIHB0cisrO1xuICAgIH1cbiAgICBsZXQgdG1wID0gMDtcbiAgICBsZXQgaXNFc2NhcGU7XG4gICAgbGV0IHBhcnNlZCA9ICcnO1xuICAgIGxldCBzbGljZVN0YXJ0ID0gcHRyO1xuICAgIHdoaWxlIChwdHIgPCBlbmRQdHIgLSAxKSB7XG4gICAgICAgIGxldCBjID0gc3RyW3B0cisrXTtcbiAgICAgICAgaWYgKGMgPT09ICdcXG4nIHx8IChjID09PSAnXFxyJyAmJiBzdHJbcHRyXSA9PT0gJ1xcbicpKSB7XG4gICAgICAgICAgICBpZiAoIWlzTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignbmV3bGluZXMgYXJlIG5vdCBhbGxvd2VkIGluIHN0cmluZ3MnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgcHRyOiBwdHIgLSAxLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChjIDwgJ1xceDIwJyAmJiBjICE9PSAnXFx0JykgfHwgYyA9PT0gJ1xceDdmJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignY29udHJvbCBjaGFyYWN0ZXJzIGFyZSBub3QgYWxsb3dlZCBpbiBzdHJpbmdzJywge1xuICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICBwdHI6IHB0ciAtIDEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNFc2NhcGUpIHtcbiAgICAgICAgICAgIGlzRXNjYXBlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJ3UnIHx8IGMgPT09ICdVJykge1xuICAgICAgICAgICAgICAgIC8vIFVuaWNvZGUgZXNjYXBlXG4gICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBzdHIuc2xpY2UocHRyLCAocHRyICs9IChjID09PSAndScgPyA0IDogOCkpKTtcbiAgICAgICAgICAgICAgICBpZiAoIUVTQ0FQRV9SRUdFWC50ZXN0KGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2ludmFsaWQgdW5pY29kZSBlc2NhcGUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b21sOiBzdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IHRtcCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZCArPSBTdHJpbmcuZnJvbUNvZGVQb2ludChwYXJzZUludChjb2RlLCAxNikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2ludmFsaWQgdW5pY29kZSBlc2NhcGUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b21sOiBzdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IHRtcCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNNdWx0aWxpbmUgJiYgKGMgPT09ICdcXG4nIHx8IGMgPT09ICcgJyB8fCBjID09PSAnXFx0JyB8fCBjID09PSAnXFxyJykpIHtcbiAgICAgICAgICAgICAgICAvLyBNdWx0aWxpbmUgZXNjYXBlXG4gICAgICAgICAgICAgICAgcHRyID0gc2tpcFZvaWQoc3RyLCBwdHIgLSAxLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyW3B0cl0gIT09ICdcXG4nICYmIHN0cltwdHJdICE9PSAnXFxyJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCdpbnZhbGlkIGVzY2FwZTogb25seSBsaW5lLWVuZGluZyB3aGl0ZXNwYWNlIG1heSBiZSBlc2NhcGVkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHRyOiB0bXAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwdHIgPSBza2lwVm9pZChzdHIsIHB0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjIGluIEVTQ19NQVApIHtcbiAgICAgICAgICAgICAgICAvLyBDbGFzc2ljIGVzY2FwZVxuICAgICAgICAgICAgICAgIHBhcnNlZCArPSBFU0NfTUFQW2NdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcigndW5yZWNvZ25pemVkIGVzY2FwZSBzZXF1ZW5jZScsIHtcbiAgICAgICAgICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgICAgICAgICBwdHI6IHRtcCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNsaWNlU3RhcnQgPSBwdHI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWlzTGl0ZXJhbCAmJiBjID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIHRtcCA9IHB0ciAtIDE7XG4gICAgICAgICAgICBpc0VzY2FwZSA9IHRydWU7XG4gICAgICAgICAgICBwYXJzZWQgKz0gc3RyLnNsaWNlKHNsaWNlU3RhcnQsIHRtcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZCArIHN0ci5zbGljZShzbGljZVN0YXJ0LCBlbmRQdHIgLSAxKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVZhbHVlKHZhbHVlLCB0b21sLCBwdHIsIGludGVnZXJzQXNCaWdJbnQpIHtcbiAgICAvLyBDb25zdGFudCB2YWx1ZXNcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHZhbHVlID09PSAnZmFsc2UnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHZhbHVlID09PSAnLWluZicpXG4gICAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgaWYgKHZhbHVlID09PSAnaW5mJyB8fCB2YWx1ZSA9PT0gJytpbmYnKVxuICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgaWYgKHZhbHVlID09PSAnbmFuJyB8fCB2YWx1ZSA9PT0gJytuYW4nIHx8IHZhbHVlID09PSAnLW5hbicpXG4gICAgICAgIHJldHVybiBOYU47XG4gICAgLy8gQXZvaWQgRlAgcmVwcmVzZW50YXRpb24gb2YgLTBcbiAgICBpZiAodmFsdWUgPT09ICctMCcpXG4gICAgICAgIHJldHVybiBpbnRlZ2Vyc0FzQmlnSW50ID8gMG4gOiAwO1xuICAgIC8vIE51bWJlcnNcbiAgICBsZXQgaXNJbnQgPSBJTlRfUkVHRVgudGVzdCh2YWx1ZSk7XG4gICAgaWYgKGlzSW50IHx8IEZMT0FUX1JFR0VYLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIGlmIChMRUFESU5HX1pFUk8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2xlYWRpbmcgemVyb2VzIGFyZSBub3QgYWxsb3dlZCcsIHtcbiAgICAgICAgICAgICAgICB0b21sOiB0b21sLFxuICAgICAgICAgICAgICAgIHB0cjogcHRyLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9fL2csICcnKTtcbiAgICAgICAgbGV0IG51bWVyaWMgPSArdmFsdWU7XG4gICAgICAgIGlmIChpc05hTihudW1lcmljKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignaW52YWxpZCBudW1iZXInLCB7XG4gICAgICAgICAgICAgICAgdG9tbDogdG9tbCxcbiAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0ludCkge1xuICAgICAgICAgICAgaWYgKChpc0ludCA9ICFOdW1iZXIuaXNTYWZlSW50ZWdlcihudW1lcmljKSkgJiYgIWludGVnZXJzQXNCaWdJbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCdpbnRlZ2VyIHZhbHVlIGNhbm5vdCBiZSByZXByZXNlbnRlZCBsb3NzbGVzc2x5Jywge1xuICAgICAgICAgICAgICAgICAgICB0b21sOiB0b21sLFxuICAgICAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0ludCB8fCBpbnRlZ2Vyc0FzQmlnSW50ID09PSB0cnVlKVxuICAgICAgICAgICAgICAgIG51bWVyaWMgPSBCaWdJbnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudW1lcmljO1xuICAgIH1cbiAgICBjb25zdCBkYXRlID0gbmV3IFRvbWxEYXRlKHZhbHVlKTtcbiAgICBpZiAoIWRhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2ludmFsaWQgdmFsdWUnLCB7XG4gICAgICAgICAgICB0b21sOiB0b21sLFxuICAgICAgICAgICAgcHRyOiBwdHIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cbiIsCiAgICAiLyohXG4gKiBDb3B5cmlnaHQgKGMpIFNxdWlycmVsIENoYXQgZXQgYWwuLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgY29weXJpZ2h0IGhvbGRlciBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnNcbiAqICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0XG4gKiAgICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRVxuICogRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcbiAqIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SXG4gKiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUlxuICogQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSxcbiAqIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5pbXBvcnQgeyBwYXJzZVN0cmluZywgcGFyc2VWYWx1ZSB9IGZyb20gJy4vcHJpbWl0aXZlLmpzJztcbmltcG9ydCB7IHBhcnNlQXJyYXksIHBhcnNlSW5saW5lVGFibGUgfSBmcm9tICcuL3N0cnVjdC5qcyc7XG5pbXBvcnQgeyBpbmRleE9mTmV3bGluZSwgc2tpcFZvaWQsIHNraXBVbnRpbCwgc2tpcENvbW1lbnQsIGdldFN0cmluZ0VuZCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBUb21sRXJyb3IgfSBmcm9tICcuL2Vycm9yLmpzJztcbmZ1bmN0aW9uIHNsaWNlQW5kVHJpbUVuZE9mKHN0ciwgc3RhcnRQdHIsIGVuZFB0ciwgYWxsb3dOZXdMaW5lcykge1xuICAgIGxldCB2YWx1ZSA9IHN0ci5zbGljZShzdGFydFB0ciwgZW5kUHRyKTtcbiAgICBsZXQgY29tbWVudElkeCA9IHZhbHVlLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoY29tbWVudElkeCA+IC0xKSB7XG4gICAgICAgIC8vIFRoZSBjYWxsIHRvIHNraXBDb21tZW50IGFsbG93cyB0byBcInZhbGlkYXRlXCIgdGhlIGNvbW1lbnRcbiAgICAgICAgLy8gKGFic2VuY2Ugb2YgY29udHJvbCBjaGFyYWN0ZXJzKVxuICAgICAgICBza2lwQ29tbWVudChzdHIsIGNvbW1lbnRJZHgpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDAsIGNvbW1lbnRJZHgpO1xuICAgIH1cbiAgICBsZXQgdHJpbW1lZCA9IHZhbHVlLnRyaW1FbmQoKTtcbiAgICBpZiAoIWFsbG93TmV3TGluZXMpIHtcbiAgICAgICAgbGV0IG5ld2xpbmVJZHggPSB2YWx1ZS5pbmRleE9mKCdcXG4nLCB0cmltbWVkLmxlbmd0aCk7XG4gICAgICAgIGlmIChuZXdsaW5lSWR4ID4gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ25ld2xpbmVzIGFyZSBub3QgYWxsb3dlZCBpbiBpbmxpbmUgdGFibGVzJywge1xuICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICBwdHI6IHN0YXJ0UHRyICsgbmV3bGluZUlkeFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFt0cmltbWVkLCBjb21tZW50SWR4XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VmFsdWUoc3RyLCBwdHIsIGVuZCwgZGVwdGgsIGludGVnZXJzQXNCaWdJbnQpIHtcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignZG9jdW1lbnQgY29udGFpbnMgZXhjZXNzaXZlbHkgbmVzdGVkIHN0cnVjdHVyZXMuIGFib3J0aW5nLicsIHtcbiAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgIHB0cjogcHRyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgYyA9IHN0cltwdHJdO1xuICAgIGlmIChjID09PSAnWycgfHwgYyA9PT0gJ3snKSB7XG4gICAgICAgIGxldCBbdmFsdWUsIGVuZFB0cl0gPSBjID09PSAnWydcbiAgICAgICAgICAgID8gcGFyc2VBcnJheShzdHIsIHB0ciwgZGVwdGgsIGludGVnZXJzQXNCaWdJbnQpXG4gICAgICAgICAgICA6IHBhcnNlSW5saW5lVGFibGUoc3RyLCBwdHIsIGRlcHRoLCBpbnRlZ2Vyc0FzQmlnSW50KTtcbiAgICAgICAgbGV0IG5ld1B0ciA9IGVuZCA/IHNraXBVbnRpbChzdHIsIGVuZFB0ciwgJywnLCBlbmQpIDogZW5kUHRyO1xuICAgICAgICBpZiAoZW5kUHRyIC0gbmV3UHRyICYmIGVuZCA9PT0gJ30nKSB7XG4gICAgICAgICAgICBsZXQgbmV4dE5ld0xpbmUgPSBpbmRleE9mTmV3bGluZShzdHIsIGVuZFB0ciwgbmV3UHRyKTtcbiAgICAgICAgICAgIGlmIChuZXh0TmV3TGluZSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignbmV3bGluZXMgYXJlIG5vdCBhbGxvd2VkIGluIGlubGluZSB0YWJsZXMnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgcHRyOiBuZXh0TmV3TGluZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdmFsdWUsIG5ld1B0cl07XG4gICAgfVxuICAgIGxldCBlbmRQdHI7XG4gICAgaWYgKGMgPT09ICdcIicgfHwgYyA9PT0gXCInXCIpIHtcbiAgICAgICAgZW5kUHRyID0gZ2V0U3RyaW5nRW5kKHN0ciwgcHRyKTtcbiAgICAgICAgbGV0IHBhcnNlZCA9IHBhcnNlU3RyaW5nKHN0ciwgcHRyLCBlbmRQdHIpO1xuICAgICAgICBpZiAoZW5kKSB7XG4gICAgICAgICAgICBlbmRQdHIgPSBza2lwVm9pZChzdHIsIGVuZFB0ciwgZW5kICE9PSAnXScpO1xuICAgICAgICAgICAgaWYgKHN0cltlbmRQdHJdICYmIHN0cltlbmRQdHJdICE9PSAnLCcgJiYgc3RyW2VuZFB0cl0gIT09IGVuZCAmJiBzdHJbZW5kUHRyXSAhPT0gJ1xcbicgJiYgc3RyW2VuZFB0cl0gIT09ICdcXHInKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcigndW5leHBlY3RlZCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgcHRyOiBlbmRQdHIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRQdHIgKz0gKCsoc3RyW2VuZFB0cl0gPT09ICcsJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcGFyc2VkLCBlbmRQdHJdO1xuICAgIH1cbiAgICBlbmRQdHIgPSBza2lwVW50aWwoc3RyLCBwdHIsICcsJywgZW5kKTtcbiAgICBsZXQgc2xpY2UgPSBzbGljZUFuZFRyaW1FbmRPZihzdHIsIHB0ciwgZW5kUHRyIC0gKCsoc3RyW2VuZFB0ciAtIDFdID09PSAnLCcpKSwgZW5kID09PSAnXScpO1xuICAgIGlmICghc2xpY2VbMF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignaW5jb21wbGV0ZSBrZXktdmFsdWUgZGVjbGFyYXRpb246IG5vIHZhbHVlIHNwZWNpZmllZCcsIHtcbiAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgIHB0cjogcHRyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW5kICYmIHNsaWNlWzFdID4gLTEpIHtcbiAgICAgICAgZW5kUHRyID0gc2tpcFZvaWQoc3RyLCBwdHIgKyBzbGljZVsxXSk7XG4gICAgICAgIGVuZFB0ciArPSArKHN0cltlbmRQdHJdID09PSAnLCcpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICBwYXJzZVZhbHVlKHNsaWNlWzBdLCBzdHIsIHB0ciwgaW50ZWdlcnNBc0JpZ0ludCksXG4gICAgICAgIGVuZFB0cixcbiAgICBdO1xufVxuIiwKICAgICIvKiFcbiAqIENvcHlyaWdodCAoYykgU3F1aXJyZWwgQ2hhdCBldCBhbC4sIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICAgIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBjb3B5cmlnaHQgaG9sZGVyIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9yc1xuICogICAgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXRcbiAqICAgIHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbiAqIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG4gKiBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFXG4gKiBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxuICogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1JcbiAqIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSXG4gKiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLFxuICogT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcbiAqIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cbmltcG9ydCB7IHBhcnNlU3RyaW5nIH0gZnJvbSAnLi9wcmltaXRpdmUuanMnO1xuaW1wb3J0IHsgZXh0cmFjdFZhbHVlIH0gZnJvbSAnLi9leHRyYWN0LmpzJztcbmltcG9ydCB7IGdldFN0cmluZ0VuZCwgaW5kZXhPZk5ld2xpbmUsIHNraXBDb21tZW50LCBza2lwVm9pZCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBUb21sRXJyb3IgfSBmcm9tICcuL2Vycm9yLmpzJztcbmxldCBLRVlfUEFSVF9SRSA9IC9eW2EtekEtWjAtOS1fXStbIFxcdF0qJC87XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VLZXkoc3RyLCBwdHIsIGVuZCA9ICc9Jykge1xuICAgIGxldCBkb3QgPSBwdHIgLSAxO1xuICAgIGxldCBwYXJzZWQgPSBbXTtcbiAgICBsZXQgZW5kUHRyID0gc3RyLmluZGV4T2YoZW5kLCBwdHIpO1xuICAgIGlmIChlbmRQdHIgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2luY29tcGxldGUga2V5LXZhbHVlOiBjYW5ub3QgZmluZCBlbmQgb2Yga2V5Jywge1xuICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgcHRyOiBwdHIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkbyB7XG4gICAgICAgIGxldCBjID0gc3RyW3B0ciA9ICsrZG90XTtcbiAgICAgICAgLy8gSWYgaXQncyB3aGl0ZXNwYWNlLCBpZ25vcmVcbiAgICAgICAgaWYgKGMgIT09ICcgJyAmJiBjICE9PSAnXFx0Jykge1xuICAgICAgICAgICAgLy8gSWYgaXQncyBhIHN0cmluZ1xuICAgICAgICAgICAgaWYgKGMgPT09ICdcIicgfHwgYyA9PT0gJ1xcJycpIHtcbiAgICAgICAgICAgICAgICBpZiAoYyA9PT0gc3RyW3B0ciArIDFdICYmIGMgPT09IHN0cltwdHIgKyAyXSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCdtdWx0aWxpbmUgc3RyaW5ncyBhcmUgbm90IGFsbG93ZWQgaW4ga2V5cycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cjogcHRyLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGVvcyA9IGdldFN0cmluZ0VuZChzdHIsIHB0cik7XG4gICAgICAgICAgICAgICAgaWYgKGVvcyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcigndW5maW5pc2hlZCBzdHJpbmcgZW5jb3VudGVyZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b21sOiBzdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvdCA9IHN0ci5pbmRleE9mKCcuJywgZW9zKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RyRW5kID0gc3RyLnNsaWNlKGVvcywgZG90IDwgMCB8fCBkb3QgPiBlbmRQdHIgPyBlbmRQdHIgOiBkb3QpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdMaW5lID0gaW5kZXhPZk5ld2xpbmUoc3RyRW5kKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3TGluZSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ25ld2xpbmVzIGFyZSBub3QgYWxsb3dlZCBpbiBrZXlzJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHRyOiBwdHIgKyBkb3QgKyBuZXdMaW5lLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0ckVuZC50cmltU3RhcnQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCdmb3VuZCBleHRyYSB0b2tlbnMgYWZ0ZXIgdGhlIHN0cmluZyBwYXJ0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHRyOiBlb3MsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZW5kUHRyIDwgZW9zKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZFB0ciA9IHN0ci5pbmRleE9mKGVuZCwgZW9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZFB0ciA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2luY29tcGxldGUga2V5LXZhbHVlOiBjYW5ub3QgZmluZCBlbmQgb2Yga2V5Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnNlZC5wdXNoKHBhcnNlU3RyaW5nKHN0ciwgcHRyLCBlb3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vcm1hbCByYXcga2V5IHBhcnQgY29uc3VtcHRpb24gYW5kIHZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICBkb3QgPSBzdHIuaW5kZXhPZignLicsIHB0cik7XG4gICAgICAgICAgICAgICAgbGV0IHBhcnQgPSBzdHIuc2xpY2UocHRyLCBkb3QgPCAwIHx8IGRvdCA+IGVuZFB0ciA/IGVuZFB0ciA6IGRvdCk7XG4gICAgICAgICAgICAgICAgaWYgKCFLRVlfUEFSVF9SRS50ZXN0KHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ29ubHkgbGV0dGVyLCBudW1iZXJzLCBkYXNoZXMgYW5kIHVuZGVyc2NvcmVzIGFyZSBhbGxvd2VkIGluIGtleXMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b21sOiBzdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnNlZC5wdXNoKHBhcnQudHJpbUVuZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBVbnRpbCB0aGVyZSdzIG5vIG1vcmUgZG90XG4gICAgfSB3aGlsZSAoZG90ICsgMSAmJiBkb3QgPCBlbmRQdHIpO1xuICAgIHJldHVybiBbcGFyc2VkLCBza2lwVm9pZChzdHIsIGVuZFB0ciArIDEsIHRydWUsIHRydWUpXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUlubGluZVRhYmxlKHN0ciwgcHRyLCBkZXB0aCwgaW50ZWdlcnNBc0JpZ0ludCkge1xuICAgIGxldCByZXMgPSB7fTtcbiAgICBsZXQgc2VlbiA9IG5ldyBTZXQoKTtcbiAgICBsZXQgYztcbiAgICBsZXQgY29tbWEgPSAwO1xuICAgIHB0cisrO1xuICAgIHdoaWxlICgoYyA9IHN0cltwdHIrK10pICE9PSAnfScgJiYgYykge1xuICAgICAgICBsZXQgZXJyID0geyB0b21sOiBzdHIsIHB0cjogcHRyIC0gMSB9O1xuICAgICAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ25ld2xpbmVzIGFyZSBub3QgYWxsb3dlZCBpbiBpbmxpbmUgdGFibGVzJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSAnIycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2lubGluZSB0YWJsZXMgY2Fubm90IGNvbnRhaW4gY29tbWVudHMnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09ICcsJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcignZXhwZWN0ZWQga2V5LXZhbHVlLCBmb3VuZCBjb21tYScsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyAhPT0gJyAnICYmIGMgIT09ICdcXHQnKSB7XG4gICAgICAgICAgICBsZXQgaztcbiAgICAgICAgICAgIGxldCB0ID0gcmVzO1xuICAgICAgICAgICAgbGV0IGhhc093biA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IFtrZXksIGtleUVuZFB0cl0gPSBwYXJzZUtleShzdHIsIHB0ciAtIDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgICAgICAgICAgdCA9IGhhc093biA/IHRba10gOiAodFtrXSA9IHt9KTtcbiAgICAgICAgICAgICAgICBrID0ga2V5W2ldO1xuICAgICAgICAgICAgICAgIGlmICgoaGFzT3duID0gT2JqZWN0Lmhhc093bih0LCBrKSkgJiYgKHR5cGVvZiB0W2tdICE9PSAnb2JqZWN0JyB8fCBzZWVuLmhhcyh0W2tdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcigndHJ5aW5nIHRvIHJlZGVmaW5lIGFuIGFscmVhZHkgZGVmaW5lZCB2YWx1ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cjogcHRyLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPd24gJiYgayA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGssIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzT3duKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcigndHJ5aW5nIHRvIHJlZGVmaW5lIGFuIGFscmVhZHkgZGVmaW5lZCB2YWx1ZScsIHtcbiAgICAgICAgICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBbdmFsdWUsIHZhbHVlRW5kUHRyXSA9IGV4dHJhY3RWYWx1ZShzdHIsIGtleUVuZFB0ciwgJ30nLCBkZXB0aCAtIDEsIGludGVnZXJzQXNCaWdJbnQpO1xuICAgICAgICAgICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgICAgICAgICAgdFtrXSA9IHZhbHVlO1xuICAgICAgICAgICAgcHRyID0gdmFsdWVFbmRQdHI7XG4gICAgICAgICAgICBjb21tYSA9IHN0cltwdHIgLSAxXSA9PT0gJywnID8gcHRyIC0gMSA6IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbW1hKSB7XG4gICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ3RyYWlsaW5nIGNvbW1hcyBhcmUgbm90IGFsbG93ZWQgaW4gaW5saW5lIHRhYmxlcycsIHtcbiAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgIHB0cjogY29tbWEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWMpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvbWxFcnJvcigndW5maW5pc2hlZCB0YWJsZSBlbmNvdW50ZXJlZCcsIHtcbiAgICAgICAgICAgIHRvbWw6IHN0cixcbiAgICAgICAgICAgIHB0cjogcHRyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFtyZXMsIHB0cl07XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcnJheShzdHIsIHB0ciwgZGVwdGgsIGludGVnZXJzQXNCaWdJbnQpIHtcbiAgICBsZXQgcmVzID0gW107XG4gICAgbGV0IGM7XG4gICAgcHRyKys7XG4gICAgd2hpbGUgKChjID0gc3RyW3B0cisrXSkgIT09ICddJyAmJiBjKSB7XG4gICAgICAgIGlmIChjID09PSAnLCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ2V4cGVjdGVkIHZhbHVlLCBmb3VuZCBjb21tYScsIHtcbiAgICAgICAgICAgICAgICB0b21sOiBzdHIsXG4gICAgICAgICAgICAgICAgcHRyOiBwdHIgLSAxLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA9PT0gJyMnKVxuICAgICAgICAgICAgcHRyID0gc2tpcENvbW1lbnQoc3RyLCBwdHIpO1xuICAgICAgICBlbHNlIGlmIChjICE9PSAnICcgJiYgYyAhPT0gJ1xcdCcgJiYgYyAhPT0gJ1xcbicgJiYgYyAhPT0gJ1xccicpIHtcbiAgICAgICAgICAgIGxldCBlID0gZXh0cmFjdFZhbHVlKHN0ciwgcHRyIC0gMSwgJ10nLCBkZXB0aCAtIDEsIGludGVnZXJzQXNCaWdJbnQpO1xuICAgICAgICAgICAgcmVzLnB1c2goZVswXSk7XG4gICAgICAgICAgICBwdHIgPSBlWzFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYykge1xuICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCd1bmZpbmlzaGVkIGFycmF5IGVuY291bnRlcmVkJywge1xuICAgICAgICAgICAgdG9tbDogc3RyLFxuICAgICAgICAgICAgcHRyOiBwdHIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gW3JlcywgcHRyXTtcbn1cbiIsCiAgICAiLyohXG4gKiBDb3B5cmlnaHQgKGMpIFNxdWlycmVsIENoYXQgZXQgYWwuLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgY29weXJpZ2h0IGhvbGRlciBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnNcbiAqICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0XG4gKiAgICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRVxuICogRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcbiAqIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SXG4gKiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUlxuICogQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSxcbiAqIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5pbXBvcnQgeyBwYXJzZUtleSB9IGZyb20gJy4vc3RydWN0LmpzJztcbmltcG9ydCB7IGV4dHJhY3RWYWx1ZSB9IGZyb20gJy4vZXh0cmFjdC5qcyc7XG5pbXBvcnQgeyBza2lwVm9pZCB9IGZyb20gJy4vdXRpbC5qcyc7XG5pbXBvcnQgeyBUb21sRXJyb3IgfSBmcm9tICcuL2Vycm9yLmpzJztcbmZ1bmN0aW9uIHBlZWtUYWJsZShrZXksIHRhYmxlLCBtZXRhLCB0eXBlKSB7XG4gICAgbGV0IHQgPSB0YWJsZTtcbiAgICBsZXQgbSA9IG1ldGE7XG4gICAgbGV0IGs7XG4gICAgbGV0IGhhc093biA9IGZhbHNlO1xuICAgIGxldCBzdGF0ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgdCA9IGhhc093biA/IHRba10gOiAodFtrXSA9IHt9KTtcbiAgICAgICAgICAgIG0gPSAoc3RhdGUgPSBtW2tdKS5jO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IDAgLyogVHlwZS5ET1RURUQgKi8gJiYgKHN0YXRlLnQgPT09IDEgLyogVHlwZS5FWFBMSUNJVCAqLyB8fCBzdGF0ZS50ID09PSAyIC8qIFR5cGUuQVJSQVkgKi8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUudCA9PT0gMiAvKiBUeXBlLkFSUkFZICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IGwgPSB0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgdCA9IHRbbF07XG4gICAgICAgICAgICAgICAgbSA9IG1bbF0uYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBrID0ga2V5W2ldO1xuICAgICAgICBpZiAoKGhhc093biA9IE9iamVjdC5oYXNPd24odCwgaykpICYmIG1ba10/LnQgPT09IDAgLyogVHlwZS5ET1RURUQgKi8gJiYgbVtrXT8uZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNPd24pIHtcbiAgICAgICAgICAgIGlmIChrID09PSAnX19wcm90b19fJykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBrLCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIGssIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ba10gPSB7XG4gICAgICAgICAgICAgICAgdDogaSA8IGtleS5sZW5ndGggLSAxICYmIHR5cGUgPT09IDIgLyogVHlwZS5BUlJBWSAqL1xuICAgICAgICAgICAgICAgICAgICA/IDMgLyogVHlwZS5BUlJBWV9ET1RURUQgKi9cbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlLFxuICAgICAgICAgICAgICAgIGQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGk6IDAsXG4gICAgICAgICAgICAgICAgYzoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRlID0gbVtrXTtcbiAgICBpZiAoc3RhdGUudCAhPT0gdHlwZSAmJiAhKHR5cGUgPT09IDEgLyogVHlwZS5FWFBMSUNJVCAqLyAmJiBzdGF0ZS50ID09PSAzIC8qIFR5cGUuQVJSQVlfRE9UVEVEICovKSkge1xuICAgICAgICAvLyBCYWQga2V5IHR5cGUhXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gMiAvKiBUeXBlLkFSUkFZICovKSB7XG4gICAgICAgIGlmICghc3RhdGUuZCkge1xuICAgICAgICAgICAgc3RhdGUuZCA9IHRydWU7XG4gICAgICAgICAgICB0W2tdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdFtrXS5wdXNoKHQgPSB7fSk7XG4gICAgICAgIHN0YXRlLmNbc3RhdGUuaSsrXSA9IChzdGF0ZSA9IHsgdDogMSAvKiBUeXBlLkVYUExJQ0lUICovLCBkOiBmYWxzZSwgaTogMCwgYzoge30gfSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5kKSB7XG4gICAgICAgIC8vIFJlZGVmaW5pbmcgYSB0YWJsZSFcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0YXRlLmQgPSB0cnVlO1xuICAgIGlmICh0eXBlID09PSAxIC8qIFR5cGUuRVhQTElDSVQgKi8pIHtcbiAgICAgICAgdCA9IGhhc093biA/IHRba10gOiAodFtrXSA9IHt9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gMCAvKiBUeXBlLkRPVFRFRCAqLyAmJiBoYXNPd24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBbaywgdCwgc3RhdGUuY107XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodG9tbCwgeyBtYXhEZXB0aCA9IDEwMDAsIGludGVnZXJzQXNCaWdJbnQgfSA9IHt9KSB7XG4gICAgbGV0IHJlcyA9IHt9O1xuICAgIGxldCBtZXRhID0ge307XG4gICAgbGV0IHRibCA9IHJlcztcbiAgICBsZXQgbSA9IG1ldGE7XG4gICAgZm9yIChsZXQgcHRyID0gc2tpcFZvaWQodG9tbCwgMCk7IHB0ciA8IHRvbWwubGVuZ3RoOykge1xuICAgICAgICBpZiAodG9tbFtwdHJdID09PSAnWycpIHtcbiAgICAgICAgICAgIGxldCBpc1RhYmxlQXJyYXkgPSB0b21sWysrcHRyXSA9PT0gJ1snO1xuICAgICAgICAgICAgbGV0IGsgPSBwYXJzZUtleSh0b21sLCBwdHIgKz0gK2lzVGFibGVBcnJheSwgJ10nKTtcbiAgICAgICAgICAgIGlmIChpc1RhYmxlQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9tbFtrWzFdIC0gMV0gIT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCdleHBlY3RlZCBlbmQgb2YgdGFibGUgZGVjbGFyYXRpb24nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b21sOiB0b21sLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHRyOiBrWzFdIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtbMV0rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwID0gcGVla1RhYmxlKGtbMF0sIHJlcywgbWV0YSwgaXNUYWJsZUFycmF5ID8gMiAvKiBUeXBlLkFSUkFZICovIDogMSAvKiBUeXBlLkVYUExJQ0lUICovKTtcbiAgICAgICAgICAgIGlmICghcCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUb21sRXJyb3IoJ3RyeWluZyB0byByZWRlZmluZSBhbiBhbHJlYWR5IGRlZmluZWQgdGFibGUgb3IgdmFsdWUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvbWw6IHRvbWwsXG4gICAgICAgICAgICAgICAgICAgIHB0cjogcHRyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbSA9IHBbMl07XG4gICAgICAgICAgICB0YmwgPSBwWzFdO1xuICAgICAgICAgICAgcHRyID0ga1sxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBrID0gcGFyc2VLZXkodG9tbCwgcHRyKTtcbiAgICAgICAgICAgIGxldCBwID0gcGVla1RhYmxlKGtbMF0sIHRibCwgbSwgMCAvKiBUeXBlLkRPVFRFRCAqLyk7XG4gICAgICAgICAgICBpZiAoIXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCd0cnlpbmcgdG8gcmVkZWZpbmUgYW4gYWxyZWFkeSBkZWZpbmVkIHRhYmxlIG9yIHZhbHVlJywge1xuICAgICAgICAgICAgICAgICAgICB0b21sOiB0b21sLFxuICAgICAgICAgICAgICAgICAgICBwdHI6IHB0cixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2ID0gZXh0cmFjdFZhbHVlKHRvbWwsIGtbMV0sIHZvaWQgMCwgbWF4RGVwdGgsIGludGVnZXJzQXNCaWdJbnQpO1xuICAgICAgICAgICAgcFsxXVtwWzBdXSA9IHZbMF07XG4gICAgICAgICAgICBwdHIgPSB2WzFdO1xuICAgICAgICB9XG4gICAgICAgIHB0ciA9IHNraXBWb2lkKHRvbWwsIHB0ciwgdHJ1ZSk7XG4gICAgICAgIGlmICh0b21sW3B0cl0gJiYgdG9tbFtwdHJdICE9PSAnXFxuJyAmJiB0b21sW3B0cl0gIT09ICdcXHInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVG9tbEVycm9yKCdlYWNoIGtleS12YWx1ZSBkZWNsYXJhdGlvbiBtdXN0IGJlIGZvbGxvd2VkIGJ5IGFuIGVuZC1vZi1saW5lJywge1xuICAgICAgICAgICAgICAgIHRvbWw6IHRvbWwsXG4gICAgICAgICAgICAgICAgcHRyOiBwdHJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHB0ciA9IHNraXBWb2lkKHRvbWwsIHB0cik7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4iLAogICAgIi8qIVxuICogQ29weXJpZ2h0IChjKSBTcXVpcnJlbCBDaGF0IGV0IGFsLiwgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogICAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqIDMuIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGNvcHlyaWdodCBob2xkZXIgbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzXG4gKiAgICBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dFxuICogICAgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEVcbiAqIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXG4gKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUlxuICogU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVJcbiAqIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksXG4gKiBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuICogT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xubGV0IEJBUkVfS0VZID0gL15bYS16MC05LV9dKyQvaTtcbmZ1bmN0aW9uIGV4dGVuZGVkVHlwZU9mKG9iaikge1xuICAgIGxldCB0eXBlID0gdHlwZW9mIG9iajtcbiAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSlcbiAgICAgICAgICAgIHJldHVybiAnYXJyYXknO1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfVxuICAgIHJldHVybiB0eXBlO1xufVxuZnVuY3Rpb24gaXNBcnJheU9mVGFibGVzKG9iaikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChleHRlbmRlZFR5cGVPZihvYmpbaV0pICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iai5sZW5ndGggIT0gMDtcbn1cbmZ1bmN0aW9uIGZvcm1hdFN0cmluZyhzKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHMpLnJlcGxhY2UoL1xceDdmL2csICdcXFxcdTAwN2YnKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlKHZhbCwgdHlwZSwgZGVwdGgsIG51bWJlckFzRmxvYXQpIHtcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3Qgc3RyaW5naWZ5IHRoZSBvYmplY3Q6IG1heGltdW0gb2JqZWN0IGRlcHRoIGV4Y2VlZGVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoaXNOYU4odmFsKSlcbiAgICAgICAgICAgIHJldHVybiAnbmFuJztcbiAgICAgICAgaWYgKHZhbCA9PT0gSW5maW5pdHkpXG4gICAgICAgICAgICByZXR1cm4gJ2luZic7XG4gICAgICAgIGlmICh2YWwgPT09IC1JbmZpbml0eSlcbiAgICAgICAgICAgIHJldHVybiAnLWluZic7XG4gICAgICAgIGlmIChudW1iZXJBc0Zsb2F0ICYmIE51bWJlci5pc0ludGVnZXIodmFsKSlcbiAgICAgICAgICAgIHJldHVybiB2YWwudG9GaXhlZCgxKTtcbiAgICAgICAgcmV0dXJuIHZhbC50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2JpZ2ludCcgfHwgdHlwZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB2YWwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRTdHJpbmcodmFsKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdkYXRlJykge1xuICAgICAgICBpZiAoaXNOYU4odmFsLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXJpYWxpemUgaW52YWxpZCBkYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbC50b0lTT1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeUlubGluZVRhYmxlKHZhbCwgZGVwdGgsIG51bWJlckFzRmxvYXQpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5QXJyYXkodmFsLCBkZXB0aCwgbnVtYmVyQXNGbG9hdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3RyaW5naWZ5SW5saW5lVGFibGUob2JqLCBkZXB0aCwgbnVtYmVyQXNGbG9hdCkge1xuICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiAne30nO1xuICAgIGxldCByZXMgPSAneyAnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgayA9IGtleXNbaV07XG4gICAgICAgIGlmIChpKVxuICAgICAgICAgICAgcmVzICs9ICcsICc7XG4gICAgICAgIHJlcyArPSBCQVJFX0tFWS50ZXN0KGspID8gayA6IGZvcm1hdFN0cmluZyhrKTtcbiAgICAgICAgcmVzICs9ICcgPSAnO1xuICAgICAgICByZXMgKz0gc3RyaW5naWZ5VmFsdWUob2JqW2tdLCBleHRlbmRlZFR5cGVPZihvYmpba10pLCBkZXB0aCAtIDEsIG51bWJlckFzRmxvYXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzICsgJyB9Jztcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeUFycmF5KGFycmF5LCBkZXB0aCwgbnVtYmVyQXNGbG9hdCkge1xuICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiAnW10nO1xuICAgIGxldCByZXMgPSAnWyAnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkpXG4gICAgICAgICAgICByZXMgKz0gJywgJztcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSBudWxsIHx8IGFycmF5W2ldID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FycmF5cyBjYW5ub3QgY29udGFpbiBudWxsIG9yIHVuZGVmaW5lZCB2YWx1ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXMgKz0gc3RyaW5naWZ5VmFsdWUoYXJyYXlbaV0sIGV4dGVuZGVkVHlwZU9mKGFycmF5W2ldKSwgZGVwdGggLSAxLCBudW1iZXJBc0Zsb2F0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcyArICcgXSc7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlBcnJheVRhYmxlKGFycmF5LCBrZXksIGRlcHRoLCBudW1iZXJBc0Zsb2F0KSB7XG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHN0cmluZ2lmeSB0aGUgb2JqZWN0OiBtYXhpbXVtIG9iamVjdCBkZXB0aCBleGNlZWRlZCcpO1xuICAgIH1cbiAgICBsZXQgcmVzID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXMgKz0gYFtbJHtrZXl9XV1cXG5gO1xuICAgICAgICByZXMgKz0gc3RyaW5naWZ5VGFibGUoYXJyYXlbaV0sIGtleSwgZGVwdGgsIG51bWJlckFzRmxvYXQpO1xuICAgICAgICByZXMgKz0gJ1xcblxcbic7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlUYWJsZShvYmosIHByZWZpeCwgZGVwdGgsIG51bWJlckFzRmxvYXQpIHtcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3Qgc3RyaW5naWZ5IHRoZSBvYmplY3Q6IG1heGltdW0gb2JqZWN0IGRlcHRoIGV4Y2VlZGVkJyk7XG4gICAgfVxuICAgIGxldCBwcmVhbWJsZSA9ICcnO1xuICAgIGxldCB0YWJsZXMgPSAnJztcbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBrID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKG9ialtrXSAhPT0gbnVsbCAmJiBvYmpba10gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBleHRlbmRlZFR5cGVPZihvYmpba10pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBjYW5ub3Qgc2VyaWFsaXplIHZhbHVlcyBvZiB0eXBlICcke3R5cGV9J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGtleSA9IEJBUkVfS0VZLnRlc3QoaykgPyBrIDogZm9ybWF0U3RyaW5nKGspO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdhcnJheScgJiYgaXNBcnJheU9mVGFibGVzKG9ialtrXSkpIHtcbiAgICAgICAgICAgICAgICB0YWJsZXMgKz0gc3RyaW5naWZ5QXJyYXlUYWJsZShvYmpba10sIHByZWZpeCA/IGAke3ByZWZpeH0uJHtrZXl9YCA6IGtleSwgZGVwdGggLSAxLCBudW1iZXJBc0Zsb2F0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRibEtleSA9IHByZWZpeCA/IGAke3ByZWZpeH0uJHtrZXl9YCA6IGtleTtcbiAgICAgICAgICAgICAgICB0YWJsZXMgKz0gYFske3RibEtleX1dXFxuYDtcbiAgICAgICAgICAgICAgICB0YWJsZXMgKz0gc3RyaW5naWZ5VGFibGUob2JqW2tdLCB0YmxLZXksIGRlcHRoIC0gMSwgbnVtYmVyQXNGbG9hdCk7XG4gICAgICAgICAgICAgICAgdGFibGVzICs9ICdcXG5cXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJlYW1ibGUgKz0ga2V5O1xuICAgICAgICAgICAgICAgIHByZWFtYmxlICs9ICcgPSAnO1xuICAgICAgICAgICAgICAgIHByZWFtYmxlICs9IHN0cmluZ2lmeVZhbHVlKG9ialtrXSwgdHlwZSwgZGVwdGgsIG51bWJlckFzRmxvYXQpO1xuICAgICAgICAgICAgICAgIHByZWFtYmxlICs9ICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBgJHtwcmVhbWJsZX1cXG4ke3RhYmxlc31gLnRyaW0oKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkob2JqLCB7IG1heERlcHRoID0gMTAwMCwgbnVtYmVyc0FzRmxvYXQgPSBmYWxzZSB9ID0ge30pIHtcbiAgICBpZiAoZXh0ZW5kZWRUeXBlT2Yob2JqKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc3RyaW5naWZ5IGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5naWZ5VGFibGUob2JqLCAnJywgbWF4RGVwdGgsIG51bWJlcnNBc0Zsb2F0KTtcbn1cbiIsCiAgICAiLyohXG4gKiBDb3B5cmlnaHQgKGMpIFNxdWlycmVsIENoYXQgZXQgYWwuLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgY29weXJpZ2h0IGhvbGRlciBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnNcbiAqICAgIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0XG4gKiAgICBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gKiBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuICogRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRVxuICogRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcbiAqIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SXG4gKiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUlxuICogQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSxcbiAqIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4gKiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHsgVG9tbERhdGUgfSBmcm9tICcuL2RhdGUuanMnO1xuaW1wb3J0IHsgVG9tbEVycm9yIH0gZnJvbSAnLi9lcnJvci5qcyc7XG5leHBvcnQgZGVmYXVsdCB7IHBhcnNlLCBzdHJpbmdpZnksIFRvbWxEYXRlLCBUb21sRXJyb3IgfTtcbmV4cG9ydCB7IHBhcnNlLCBzdHJpbmdpZnksIFRvbWxEYXRlLCBUb21sRXJyb3IgfTtcbiIKICBdLAogICJtYXBwaW5n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QVEsSUFBSSxpREFBaUQsRUFDN0QsUUFBUSxJQUFJLHlDQUF5QyxFQUNyRCxRQUFRLElBQUksc0JBQXNCLEVBR3BDLGVBQWUsQ0FBSSxFQUFrQixDQUNuQyxNQUFNLEVBQU8sRUFBSyxNQUFNLENBQUMsR0FDbEIsRUFBUyxLQUFhLEdBQVcsRUFFeEMsSUFBSyxHQUFXLElBQVksVUFBWSxJQUFZLEtBQ2xELEVBQVUsRUFDVixFQUFLLENBQUMsRUFHUixHQUFJLElBQVksT0FDZCxRQUFRLElBQUksc0RBQXNELEVBQ2xFLEVBQUssQ0FBQyxFQUdSLEdBQUksSUFBWSxPQUNkLFFBQVEsSUFBSSwrQ0FBK0MsRUFDM0QsRUFBSyxDQUFDLEVBR1IsR0FBSSxJQUFZLGFBQWMsQ0FDNUIsSUFBSyxFQUNILFFBQVEsTUFBTSx3Q0FBd0MsRUFDdEQsUUFBUSxJQUFJLG9DQUFvQyxFQUNoRCxFQUFLLENBQUMsRUFHUixHQUFJLENBQ0YsTUFBTSxFQUFLLEtBQWEsNEJBSWxCLEdBSE8sS0FBYSxzQkFHQSxRQUFRLENBQVEsRUFHMUMsTUFBTSxFQUFHLE9BQU8sQ0FBWSxFQUc1QixNQUFNLEVBQWMsTUFBTSxFQUFHLFNBQVMsRUFBYyxPQUFPLEVBQ3JELEVBQVMsRUFBTSxDQUFXLEVBS2hDLEdBRnlCLEVBQVEsU0FBUyxRQUFRLEVBR2hELFFBQVEsSUFBSSxLQUFLLFVBQVUsRUFBUSxLQUFNLENBQUMsQ0FBQyxNQUUzQyxTQUFRLElBQUksMEJBQWdCLENBQVksRUFDeEMsUUFBUSxJQUFJLDhCQUFtQixFQUMvQixRQUFRLElBQUksRUFBUSxDQUFFLE1BQU8sS0FBTSxPQUFRLEVBQUssQ0FBQyxFQUduRCxFQUFLLENBQUMsUUFDQyxFQUFQLENBQ0EsR0FBSSxFQUFNLE9BQVMsU0FDakIsUUFBUSxNQUFNLDBCQUEwQixHQUFVLFVBQ3pDLEVBQU0sT0FBUyxjQUN4QixRQUFRLE1BQU0saUNBQWlDLEdBQVUsRUFDekQsUUFBUSxNQUFNLEVBQU0sT0FBTyxNQUUzQixTQUFRLE1BQU0scUNBQXFDLEVBQU0sU0FBUyxFQUVwRSxFQUFLLENBQUMsR0FJVixHQUFJLElBQVksUUFBUyxDQUN2QixRQUFRLElBQUksb0JBQW9CLEVBQ2hDLE1BQU0sRUFBWSwwQ0FJWixFQUFjLE1BRFQsS0FBYSw2QkFDSyxTQUFTLEVBQVcsT0FBTyxFQUdsRCxFQUFTLEVBQU0sQ0FBVyxFQUNoQyxRQUFRLElBQUksQ0FBTSxFQUNsQixFQUFLLENBQUMsRUFHUixRQUFRLElBQUksb0JBQW9CLEdBQVMsRUFDekMsRUFBVSxFQUNWLEVBQUssQ0FBQyxFQUdSLEVBQUsiLAogICJkZWJ1Z0lkIjogIkJDNDMxRTU0MDIwNkZFMjk2NDc1NkUyMTY0NzU2RTIxIiwKICAibmFtZXMiOiBbXQp9
